<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.56">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>8&nbsp; Plane-waves and particle flow – Advanced Classical Mechanics</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./single_particle.html" rel="next">
<link href="./kinematics.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/quarto-contrib/fontawesome6-1.2.0/all.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/fontawesome6-1.2.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./oneforms.html">II: Fields and tensors</a></li><li class="breadcrumb-item"><a href="./planewaves.html"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Plane-waves and particle flow</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./index.html" class="sidebar-logo-link">
      <img src="./figures/acm.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Advanced Classical Mechanics</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./books.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Recommended Books</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text">I: Special Relativity</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./principle_relativity.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Principle of relativity</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lorentz_transform.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Lorentz transformation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./space_time.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Minkowski space-time</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./example_class1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Example Class 1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./4vectors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Introducing 4-vectors</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">II: Fields and tensors</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./oneforms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">One-forms</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tensors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Tensors</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./example_class2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Example Class 2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./kinematics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Relativistic kinematics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./planewaves.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Plane-waves and particle flow</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false">
 <span class="menu-text">III: Lagrangian field theory</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./single_particle.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Single-particle Lagrangian</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./example_class3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Example Class 3</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./field_theory.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Building a field theory</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./symmetries.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Symmetries and Noether’s theorem</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false">
 <span class="menu-text">IV: Relativistic Electrodynamics</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./em_revision.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Revision of Electromagnetism</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./example_class4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Example Class 4</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./faraday.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Faraday tensor and relativistic Maxwell equations</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./4potential.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Relativistic 4-potential</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./em_lagrangian.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Lagrangian approach to EM</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./example_class5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Example Class 5</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./problem_sheets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Problem sheets</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Summary</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./epilogue.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Epilogue</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./acknowledgements.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Acknowledgements</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#plane-wave-scalar-fields" id="toc-plane-wave-scalar-fields" class="nav-link active" data-scroll-target="#plane-wave-scalar-fields"><span class="header-section-number">8.1</span> Plane-wave scalar fields</a></li>
  <li><a href="#wave-equation" id="toc-wave-equation" class="nav-link" data-scroll-target="#wave-equation"><span class="header-section-number">8.2</span> Wave-equation</a></li>
  <li><a href="#field-describing-a-fluid" id="toc-field-describing-a-fluid" class="nav-link" data-scroll-target="#field-describing-a-fluid"><span class="header-section-number">8.3</span> Field describing a fluid</a></li>
  <li><a href="#particle-current-density-and-the-continuity-equation" id="toc-particle-current-density-and-the-continuity-equation" class="nav-link" data-scroll-target="#particle-current-density-and-the-continuity-equation"><span class="header-section-number">8.4</span> Particle current density and the continuity equation</a></li>
  <li><a href="#energy-current" id="toc-energy-current" class="nav-link" data-scroll-target="#energy-current"><span class="header-section-number">8.5</span> Energy current</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./oneforms.html">II: Fields and tensors</a></li><li class="breadcrumb-item"><a href="./planewaves.html"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Plane-waves and particle flow</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Plane-waves and particle flow</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>In this lecture we will explore core examples of scalar, 4-vector and tensor fields. What we will learn will greatly inform our analysis of field theories later.</p>
<!--- TODO: Plane-waves, wave equation, continuity equation and stress-energy tensor --->
<section id="plane-wave-scalar-fields" class="level2" data-number="8.1">
<h2 data-number="8.1" class="anchored" data-anchor-id="plane-wave-scalar-fields"><span class="header-section-number">8.1</span> Plane-wave scalar fields</h2>
<p>Earlier in the <a href="./oneforms.html#sec-fields">Scalar-product and one-forms</a> lecture we introduced a scalar field as a general Lorentz scalar functional of points in space-time <span class="math inline">\(\tilde{\varphi}(\vec{X})\)</span> which in a given frame <span class="math inline">\(S\)</span> is a function <span class="math inline">\(\varphi(x)\)</span>.</p>
<p>The requirement for <span class="math inline">\(\varphi(x)\)</span> to be Lorentz scalar places restrictions on the form of the field. For example, if <span class="math inline">\(\varphi(x)\)</span> depended only on the space-time coordinates <span class="math inline">\(x^\mu\)</span> in <span class="math inline">\(S\)</span> and nothing else, then it must be of the form <span class="math display">\[
\varphi(x) = f(x_\mu x^\mu),
\]</span> where <span class="math inline">\(f(\cdot)\)</span> is an arbitrary function, itself parameterised by Lorentz scalars coefficients. The reason for this is that the only Lorentz scalar we can form from <span class="math inline">\(x^\mu\)</span> is the squared space-time interval <span class="math inline">\(\vec{X}\cdot\vec{X} = x_\mu x^\mu\)</span>.</p>
<p>More interesting cases arise when <span class="math inline">\(\varphi(x)\)</span> is parameterised by additional covariant objects. Suppose <span class="math inline">\(\varphi(x)\)</span> was defined by another 4-vector <span class="math inline">\(\vec{Q}\)</span> with components <span class="math inline">\(q^\mu\)</span> in <span class="math inline">\(S\)</span>. In this case we can construct three Lorentz scalars <span class="math inline">\(\vec{X}\cdot\vec{Q}\)</span>, <span class="math inline">\(\vec{X}\cdot\vec{X}\)</span> and <span class="math inline">\(\vec{Q}\cdot\vec{Q}\)</span> so in general <span class="math inline">\(\varphi(x)\)</span> has a dependence <span class="math display">\[
\varphi(x) = f(x_\mu q^\mu, x_\mu x^\mu, q_\mu q^\mu),
\]</span> where <span class="math inline">\(f(\cdot)\)</span> is now an arbitrary 3-variable function.</p>
<p>We already know a form of field with this dependence – <em>plane waves</em> travelling with a wave speed of <span class="math inline">\(c\)</span>. They have the general form <span class="math display">\[
    \varphi(ct,{\boldsymbol{r}}) = a\, e^{i(\omega t - {\boldsymbol{k}}\cdot{\boldsymbol{r}})},
\]</span> where <span class="math inline">\(a\)</span> is a Lorentz scalar amplitude, <span class="math inline">\(\omega\)</span> is the angular frequency and <span class="math inline">\(\boldsymbol{k}\)</span> is the 3-wave-vector of the wave. If this plane-wave is to be a Lorentz scalar field then we need that the phase of the wave <span class="math display">\[
    \theta(x) = \omega t - {\boldsymbol{k}}\cdot{\boldsymbol{r}},
\]</span> is a Lorentz scalar. Specifically, all inertial observers must agree on the value of the phase at a given point in space-time. The reason for this is that the “event” that the wave reached it maximum extent, or has a node, is something every observer can agree on. They won’t agree on the coordinates ascribed to this event, or the time elapsed and distance between pairs of such events, but they will agree that one occured a given point.</p>
<p>This tells us that <span class="math inline">\(\theta(x)\)</span> must be a scalar-product between <span class="math inline">\(\vec{X}\)</span> and another 4-vector. Or in otherwords we can the scalar <span class="math inline">\(\omega\)</span> and 3-vector <span class="math inline">\(\boldsymbol{k}\)</span> into a 4-wave-vector <span class="math inline">\(\vec{K}\)</span> with components in some frame <span class="math inline">\(S\)</span> as <span class="math display">\[
k^\mu = \left(\begin{array}{c} \omega/c \\
{\boldsymbol{k}} \end{array}\right).
\]</span> This sensibly links <span class="math inline">\(\omega\)</span> with the time component, and <span class="math inline">\(\boldsymbol{k}\)</span> with the spatial components. Naturally both <span class="math inline">\(\omega\)</span> and <span class="math inline">\(\boldsymbol{k}\)</span> for a given wave differ between inertial frames as described by a standard Lorentz transformation <span class="math display">\[
k^{\bar \nu} = \Lambda^{\bar \nu}_\mu k^\mu.
\]</span> This indicates that transforming between inertial frames mixes <span class="math inline">\(\omega\)</span> and components of <span class="math inline">\(\boldsymbol{k}\)</span>. Using <span class="math inline">\(\vec{K}\)</span> we can express a plane-wave in a covariant form <span class="math display">\[
    \varphi(x) = a\, e^{i k_\mu x^\mu},
\]</span> recalling that <span class="math display">\[
k_\mu = \left(\begin{array}{c} \omega/c \\
-{\boldsymbol{k}} \end{array}\right),
\]</span> so the scalar-product of the 4-wave-vector and the space-time 4-vector is <span class="math display">\[
    k_\mu x^\mu = (\omega/c)ct - {\boldsymbol{k}}\cdot{\boldsymbol{r}}.
\]</span> Consequently, the phase factor of the plane-wave is a Lorentz invariant, e.g.&nbsp;a Lorentz scalar linear functional, with the plane-wave itself given by its complex exponential <span class="math display">\[
    \tilde{\varphi}(\vec{X})  = a\, e^{i \vec{K}\cdot\vec{X}},
\]</span> making explicit that it is also a Lorentz scalar (non-linear) functional of space-time <span class="math inline">\(\vec{X}\)</span>. We characterise the type of plane-wave by the Lorentz scalar <span class="math inline">\(\vec{K}\cdot\vec{K}\)</span> which is <span class="math display">\[
    \vec{K}\cdot\vec{K} = k_\mu k^\mu = \left(\frac{\omega}{c}\right)^2 - {\boldsymbol{k}}\cdot{\boldsymbol{k}}.
\]</span> If <span class="math inline">\(k_\mu k^\mu &gt; 0\)</span> it tell us <span class="math inline">\(\vec{K}\)</span> is time-like, if <span class="math inline">\(k_\mu k^\mu = 0\)</span> then it is light-like, or if <span class="math inline">\(k_\mu k^\mu &lt; 0\)</span> it is space-like.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Types of plane-waves
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>In 1+1D space-time the pattern of phases of a plane-wave with a time-like <span class="math inline">\(\vec{K}\)</span> is shown below for some frame <span class="math inline">\(S\)</span>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figures/timelike_field.png" class="img-fluid figure-img" width="450"></p>
<figcaption>A plane-wave field with a time-like 4-wave-vector <span class="math inline">\(\vec{K}\)</span> means that there exists a Lorentz transformation from a general frame <span class="math inline">\(S\)</span> to a frame <span class="math inline">\(\bar S\)</span> in which its appears to describe stationary synchronised simple harmonic oscillators at all points in space.</figcaption>
</figure>
</div>
<p>Since surfaces of constant phase obey <span class="math inline">\(\omega t - kx = {\rm const}\)</span> then <span class="math display">\[
    x(t) = \left(\frac{\omega}{k}\right)t - {\rm const}.
\]</span> The <em>phase velocity</em> is the speed at which constant-phase hypersurfaces intersect an observer’s time axis. We can immediately identify this as <span class="math inline">\(v_p = \omega/k\)</span>. Given <span class="math inline">\(\omega^2/c^2 - k^2 &gt;0\)</span> for time-like <span class="math inline">\(\vec{K}\)</span> then we see that <span class="math inline">\(\omega^2/k^2 &gt; c^2\)</span> so <span class="math inline">\(|v_p| &gt; c\)</span>. Time-like 4-wave-vectors necessarily correspond to superluminal phase velocities in frames where <span class="math inline">\(k \neq 0\)</span>. This is <strong>not</strong> an issue since the phase velocity is not a signal velocity. No information or energy is carried by the phase.</p>
<p>Being time-like means we can always find an inertial frame <span class="math inline">\(\bar S\)</span> in which <span class="math inline">\(\vec{K}\)</span> points directly along its <span class="math inline">\(c{\bar t}\)</span> axis. What we now have is a series of constant phase hypersurfaces which are parallel to the <span class="math inline">\(\bar x\)</span> axis. The plane-wave reduces to a wave number <span class="math inline">\(\bar k = 0\)</span> and oscillates in time only with <span class="math inline">\(\bar \omega\)</span>, so all points of space are filled with perfectly synchronised simple harmonic oscillators.</p>
<p>Conversely if we have a space-like 4-wave-vector <span class="math inline">\(\vec{K}\)</span>, so <span class="math inline">\(k_\mu k^\mu &lt; 0\)</span>, then we can always find an inertial frame <span class="math inline">\(\bar S\)</span> in which <span class="math inline">\(\vec{K}\)</span> points directly along its <span class="math inline">\(\bar x\)</span> axis. This gives a series of constant phase hypersurfaces which are parallel to the <span class="math inline">\(c {\bar t}\)</span> axis. The plane-wave in <span class="math inline">\(\bar S\)</span> corresponds to a frozen spatial modulation fixed for all time.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figures/spacelike_field.png" class="img-fluid figure-img" width="450"></p>
<figcaption>A plane-wave field with a space-like 4-wave-vector <span class="math inline">\(\vec{K}\)</span> means that there exists a Lorentz transformation from a general frame <span class="math inline">\(S\)</span> to a frame <span class="math inline">\(\bar S\)</span> in which the it appears like a frozen spatial modulation for all time.</figcaption>
</figure>
</div>
<p>Space-like <span class="math inline">\(\vec{K}\)</span> obey <span class="math inline">\(\omega^2/c^2 - k^2 &lt;0\)</span> so their phase velocity is <span class="math inline">\(|v_p| &lt; c\)</span>. The final case is for <span class="math inline">\(\vec{K}\)</span> being lightlike. Here <span class="math inline">\(\vec{K}\)</span> points along the lightcone and the hyperplanes of constant phase also lie along an opposite direction lightcone in 1+1D as shown here.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figures/lightlike_field.png" class="img-fluid figure-img" width="400"></p>
<figcaption>A plane-wave field with a light-like 4-wave-vector <span class="math inline">\(\vec{K}\)</span> means that hypersurfaces of constant phase do not change under a Lorentz transformation from a general frame <span class="math inline">\(S\)</span> to a frame <span class="math inline">\(\bar S\)</span>.</figcaption>
</figure>
</div>
<p>Transforming to a new frame does not change this picture. Light-like plane-wave reflect the causal structure of space-time itself. As we shall see next, solutions to the wave-equation are plane-waves with light-like 4-wave-vectors.</p>
</div>
</div>
</div>
</section>
<section id="wave-equation" class="level2 page-columns page-full" data-number="8.2">
<h2 data-number="8.2" class="anchored" data-anchor-id="wave-equation"><span class="header-section-number">8.2</span> Wave-equation</h2>
<p>In the <a href="./oneforms.html#sec-fields">Scalar-product and one-forms</a> lecture we also constructed one of the most important one-forms, the derivative <span id="eq-dmu"><span class="math display">\[
\partial_\mu = \left(\begin{array}{c} \frac{1}{c}\frac{\partial}{\partial t} \\
\nabla \end{array}\right).
\tag{8.1}\]</span></span> When this is contracted with its 4-vector equivalent <span class="math inline">\(\partial^\mu\)</span> it gives the d’Alembert Lorentz scalar differential operator <span class="math display">\[
\partial_\mu\partial^\mu = \frac{1}{c^2}\frac{\partial}{\partial t^2} -\nabla^2.
\]</span> If we apply this to a scalar field <span class="math inline">\(\varphi(x^\mu)\)</span> we arrive at the wave-equation <span id="eq-wave_eq"><span class="math display">\[
\partial_\nu\partial^\nu \varphi(x) = 0.
\tag{8.2}\]</span></span> This is our canonical example of a relativistically covariant equation of motion governing a field. In the next lecture we will see how the Lagrangian formalism you learnt in the first half of this course will allow us to build field theories and derive equations of motion like the wave-equation.</p>
<p>Here we will take <a href="#eq-wave_eq" class="quarto-xref">Equation&nbsp;<span>8.2</span></a> as given and examine what its solutions look like. The solutions are plane-waves. In a given frame <span class="math inline">\(S\)</span> let’s carefully compute the derivative of the plane-wave starting with the expression <span class="math display">\[
    \partial_\mu e^{i \theta(x)} = \partial_\mu \theta(x) \, \frac{{\rm d}}{{\rm d}\theta(x)} e^{i\theta(x)} =  ie^{i\theta(x)} \partial_\mu \theta(x)
\]</span> so using the phase <span class="math inline">\(\theta(x) = k_\nu x^\nu\)</span> we get <span class="math display">\[
    \partial_\mu e^{i k_\nu x^\nu} = ik_\nu\left(\frac{\partial}{\partial x^\mu} x^\nu\right)e^{i k_\sigma x^\sigma} = ik_\nu \delta^\nu_\mu e^{i k_\sigma x^\sigma} = ik_\mu e^{i k_\sigma x^\sigma}.
\]</span> Similarly, since <span class="math inline">\(k_\nu x^\nu = k^\nu x_\nu\)</span> (index see-sawing) we have <span class="math display">\[
    \partial^\mu e^{i k_\nu x^\nu} = ik^\nu\left(\frac{\partial}{\partial x_\mu} x_\nu\right)e^{i k_\sigma x^\sigma} = ik^\nu \delta_\nu^\mu e^{i k_\sigma x^\sigma} = ik^\mu e^{i k_\sigma x^\sigma}.
\]</span> Putting this together we get <span class="math display">\[
    \partial_\mu\partial^\mu \varphi(x) = (ik^\mu)(ik_\mu)\varphi(x) = -k_\mu k^\mu \varphi(x) = 0.
\]</span> Given the plane-wave <span class="math inline">\(\varphi(x) \neq 0\)</span> unless its amplitude <span class="math inline">\(a = 0\)</span> it can only be a general solution to the wave-equation if <span class="math inline">\(k_\mu k^\mu = 0\)</span>. Hence the 4-wave-vector must be a lightlike 4-vector.</p>
<p>This implies that the wave solutions to the wave-equation are controlled by the dispersion relation <span id="eq-wave_dispersion"><span class="math display">\[
    k_\mu k^\mu = \left(\frac{\omega}{c}\right)^2 - \boldsymbol{k}\cdot\boldsymbol{k} = \left(\frac{\omega}{c}\right)^2 - |\boldsymbol{k}|^2 = 0,
\tag{8.3}\]</span></span> or more compactly <span class="math display">\[
    \omega = \pm c|\boldsymbol{k}|.
\]</span> If we applied the Einstein-Planck relation <span class="math inline">\(\mathcal{E} = \hbar\omega\)</span> and the de-Broglie relation <span class="math inline">\(\boldsymbol{p} = \hbar\boldsymbol{k}\)</span> embodying wave-particle duality in quantum mechanics then we see that the dispersion relation <a href="#eq-wave_dispersion" class="quarto-xref">Equation&nbsp;<span>8.3</span></a> becomes <span class="math inline">\(\mathcal{E}^2 = p^2c^2\)</span>. This is the relativistic energy-momentum relation for a massless particle and consistent with the fact that plane-wave solutions of the wave-equation have a wave speed of <span class="math inline">\(c\)</span>.</p>
<div class="page-columns page-full"><p>Consider the modified wave-equation <span id="eq-kg_eq"><span class="math display">\[
    \left(\partial_\nu\partial^\nu + \alpha\right)\varphi(x) = 0,
\tag{8.4}\]</span></span> where <span class="math inline">\(\alpha&gt;0\)</span> is a Lorentz scalar. Inserting a plane-wave into <a href="#eq-kg_eq" class="quarto-xref">Equation&nbsp;<span>8.4</span></a> now gives <span class="math display">\[
     \left(-k_\mu k^\mu + \alpha\right)\varphi(x) = 0.
\]</span> and so plane-wave solutions require that <span class="math inline">\(k_\mu k^\mu = \alpha &gt; 0\)</span>, meaning they have time-like 4-wave-vector. Identifying <span class="math inline">\(\alpha = m^2c^2/\hbar^2\)</span> makes <a href="#eq-kg_eq" class="quarto-xref">Equation&nbsp;<span>8.4</span></a> the Klein-Gordon equation describing particle with mass <span class="math inline">\(m&gt;0\)</span>. The dispersion relation then becomes <span id="eq-kg_wave_dispersion"><span class="math display">\[
  (\hbar\omega)^2 = |\hbar\boldsymbol{k}|^2c^2 + m^2c^4, \quad \implies \quad \mathcal{E}^2 = p^2c^2 + m^2c^4,
\tag{8.5}\]</span></span> and hence obeys the relativistic energy-momentum relation for a massive particle.  It is worth contrasting that plane-waves with space-like 4-wave-vectors are not solutions to any causal, stable relativistic wave equation. They do not describe propagating waves and instead arise as solutions of Poisson type equations.</p><div class="no-row-height column-margin column-container"><span class="margin-aside">We will briefly consider quantum wave-equations at the end of this course (non-examinable). One issue which is apparent here already is that <span class="math inline">\(\mathcal{E} = \pm \sqrt{p^2c^2+m^2c^4}\)</span> admits both positive and negative solutions. This is no issue for an angular frequency of a classical wave but once ascribed to the energy of a particle serious problems arise.</span></div></div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<i class="fa-regular fa-circle-question" aria-label="circle-question"></i> Work-along exercises
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><strong>1. Relativistic plane waves and the Doppler effect</strong></p>
<p>Work in 1 + 1D space-time and assume a plane-wave is emitted from the spatial origin <span class="math inline">\(x = 0\)</span> in frame <span class="math inline">\(S\)</span>, and propagating with the 1 + 1D 4-wavevector <span class="math inline">\((\omega/c, k)\)</span>, with <span class="math inline">\(k &gt; 0\)</span>. With respect to an observer in a frame <span class="math inline">\(\bar S\)</span>, the source is moving with velocity <span class="math inline">\(−v\)</span>, i.e.&nbsp;the wave is emitted from spatial coordinate <span class="math inline">\(\bar{x} = −v\bar{t}\)</span>. Show that, from the point of view of a fixed observer at the origin of <span class="math inline">\(\bar S\)</span>, the wavevector <span class="math inline">\((\bar{\omega}/c,\bar{k})\)</span> is red-shifted according to the relativistic Doppler effect <span class="math display">\[
    \frac{\bar \omega}{\omega} = \frac{\bar k}{k} = \sqrt{\frac{c - v}{c + v}}.
\]</span></p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<i class="fa-regular fa-circle-check" aria-label="circle-check"></i> Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><strong>1. Relativistic plane waves and the Doppler effect</strong></p>
<p>Solution …</p>
</div>
</div>
</div>
</section>
<section id="field-describing-a-fluid" class="level2 page-columns page-full" data-number="8.3">
<h2 data-number="8.3" class="anchored" data-anchor-id="field-describing-a-fluid"><span class="header-section-number">8.3</span> Field describing a fluid</h2>
<p>Fields don’t have to be Lorentz scalar, they can be any covariant object such as a 4-vector <span class="math inline">\(\vec{A}(\vec{X})\)</span> or tensor <span class="math inline">\(\pmb{\symbb{T}}(\vec{X})\)</span>. The field is now described by components in a given frame, e.g.&nbsp;<span class="math inline">\(A^\mu(x)\)</span> or <span class="math inline">\(T^{\mu\nu}(x)\)</span>, and their value at any given point in space-time does <strong>not</strong> have to be agreed upon by all observers. Instead the components of the field should transform appropriately between frames as <span class="math display">\[
    A^{\bar \mu}({\bar x}) = \Lambda^{\bar \mu}_\nu A^\nu(x), \quad T^{\bar{\mu}\bar{\nu}}({\bar x}) = \Lambda^{\bar \mu}_\sigma \Lambda^{\bar \nu}_\kappa T^{\sigma\kappa}(x).
\]</span> An inituitive example of a 4-vector field is to imagine space is filled with a continuous fluid of particles and <span class="math inline">\(\vec{U}(\vec{X})\)</span> represents the 4-velocity of all particles inside an infinitesmal volume around the point <span class="math inline">\(\vec{X}\)</span>. Being a 4-velocity means that it obeys <span class="math display">\[
    \vec{U}(\vec{X})\cdot\vec{U}(\vec{X}) = 1, \quad \forall \vec{X}.
\]</span> In 1+2D space-time we can imagine there is a strained spaghetti of worldlines (strained so they are not tangled up) which varies smoothly across space and time. The 4-velocity field <span class="math inline">\(\vec{U}(\vec{X})\)</span> is then the tangent to the worldline at a given point as shown here:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figures/4velocity_field.png" class="img-fluid figure-img" width="500"></p>
<figcaption>A strained spaghetti of worldlines varying smoothly through 1+2D space-time depicting the trajectory of a continuous fluid of particles in frame <span class="math inline">\(S\)</span>. A small ``volume” element <span class="math inline">\(\delta V = \delta x\delta y\)</span> at point <span class="math inline">\(\vec{X}\)</span> is shown. The zoomed-in plot shows the worldlines of 6 particles inside <span class="math inline">\(\delta V\)</span> which necessarily possess the same 4-velocity. Here is depicts negative motion along the <span class="math inline">\(x\)</span>-axis.</figcaption>
</figure>
</div>
<p>The picture shows a small “volume” element for 2D <span class="math inline">\(\delta V = \delta x\delta y\)</span> at a point <span class="math inline">\(\vec{X}\)</span>. Since <span class="math inline">\(U(\vec{X})\)</span> varies smoothly all the particles (six drawn) inside the volume element at <span class="math inline">\(\vec{X}\)</span> necessarily have the same 4-velocity. In general for frame <span class="math inline">\(S\)</span> this 4-velocity will describe particles moving through space and time. Since the particles are massive the 4-velocity is time-like and so there exists another frame <span class="math inline">\(\bar S\)</span> in which it points along its <span class="math inline">\(c\bar t\)</span>-axis. This is the <em>momentarily comoving reference frame</em> for the particles at <span class="math inline">\(\vec{X}\)</span>, so the particles in the volume element are now stationary, as shown here:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figures/comoving_volume.png" class="img-fluid figure-img" width="600"></p>
<figcaption>The volume element at <span class="math inline">\(\vec{X}\)</span> depicted in frame <span class="math inline">\(\bar S\)</span> where all the particles are stationary, so their 4-velocity points along the <span class="math inline">\(c\bar t\)</span>-axis. Viewing the volume element in <span class="math inline">\(\bar S\)</span> in frame <span class="math inline">\(S\)</span> we see that it is titled by their relative motion along the <span class="math inline">\(x\)</span>-axis.</figcaption>
</figure>
</div>
<p>A volume element in a given frame is a small hypersurface of constant time in that frame. However, different inertial frames do not agree on the notion of simultaneity so the volume element <span class="math inline">\(\delta \bar V\)</span> in <span class="math inline">\(\bar S\)</span> is not a hypersurface of constant time in frame <span class="math inline">\(S\)</span>. As shown above <span class="math inline">\(\delta \bar V\)</span> viewed in frame <span class="math inline">\(S\)</span> is tilted in the <span class="math inline">\(ct\)</span> and <span class="math inline">\(x\)</span> axes. So if we take <span class="math inline">\(\delta V\)</span> as the hypersurface of constant time swept out by <span class="math inline">\(\delta \bar V\)</span> in frame <span class="math inline">\(S\)</span> then it will experience length contraction so the volumes are related as <span class="math display">\[
    \delta x = \frac{\delta \bar x}{\gamma} \quad \implies \quad \delta V = \frac{\delta {\bar x}\delta {\bar y}}{\gamma} = \frac{\delta \bar V}{\gamma}
\]</span> where <span class="math inline">\(\gamma\)</span> connects frames <span class="math inline">\(S\)</span> and <span class="math inline">\(\bar S\)</span> and using that <span class="math inline">\(\delta y = \delta \bar y\)</span>, since the relative motion between the frames is along the <span class="math inline">\(x\)</span>-axis. Hence the volume in any other frame <span class="math inline">\(S\)</span> obeys <span class="math inline">\(\delta V &lt; \delta \bar V\)</span>.</p>
<div class="page-columns page-full"><p>Now suppose we have a certain number of particles <span class="math inline">\(N\)</span> ( = 6 in the figure above) contained in the volume element <span class="math inline">\(\delta \bar V\)</span> in the comoving frame <span class="math inline">\(\bar S\)</span>. The number density of particles at <span class="math inline">\(\vec{X}\)</span> in frame <span class="math inline">\(\bar S\)</span> is then <span class="math display">\[
    \rho_0(\vec{X}) = \frac{N}{\delta \bar V}.
\]</span> The following important observation applies:</p><div class="no-row-height column-margin column-container"><span class="margin-aside">We can turn <span class="math inline">\(\rho_0(\vec{X})\)</span> into a charge density by multiplying it by the electronic charge <span class="math inline">\(e\)</span>, or mass density by multiplying by the mass <span class="math inline">\(m\)</span>, both of which are Lorentz scalars.</span></div></div>
<blockquote class="blockquote">
<p><span class="math inline">\(\Big(\)</span># of particle in comoving frame’s <span class="math inline">\(\delta {\bar V}\)</span><span class="math inline">\(\Big)\)</span> = <span class="math inline">\(\Big(\)</span># of particle in <span class="math inline">\(\delta V\)</span> of any other frame <span class="math inline">\(\Big)\)</span></p>
</blockquote>
<p>The reason for this is that the boundaries of the comoving volume <span class="math inline">\(\delta \bar V\)</span> from frame <span class="math inline">\(\bar S\)</span> sweeping through space-time in <span class="math inline">\(S\)</span> is, by construction, parallel to the worldlines of the particles contained within it. As such none will cross the boundary guaranteeing that all the particle worldlines will cross the hypersurface <span class="math inline">\(\delta V\)</span> in any frame <span class="math inline">\(S\)</span>. Consequently the density at <span class="math inline">\(\vec{X}\)</span> in frame <span class="math inline">\(S\)</span> is <span id="eq-density"><span class="math display">\[
    \rho(\vec{X}) = \frac{N}{\delta V}, \quad \implies \quad \rho(\vec{X}) = \gamma\rho_0(\vec{X}),
\tag{8.6}\]</span></span><br>
showing that the density in any other frame <span class="math inline">\(S\)</span> increases compared to the comoving frame <span class="math inline">\(\bar S\)</span>. The density of particles <span class="math inline">\(\rho(\vec{X})\)</span> is therefore not a Lorentz scalar, however the comoving density <span class="math inline">\(\rho_0(\vec{X})\)</span> can be treated as such. Like the proper time it is a property that is intrinsic to the fluid itself. Therefore all observers of that system can determine and agree upon <span class="math inline">\(\rho_0(\vec{X})\)</span> making it an effective Lorentz scalar since it does not transform between observers.</p>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<i class="fa-regular fa-circle-question" aria-label="circle-question"></i> Work-along exercises
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><strong>2. Space-time volume elements</strong></p>
<p>Suppose in 3D Euclidean space we have a general curvilinear coordinate system comprising the variables <span class="math inline">\(u_1,u_2,u_3\)</span> such that standard Cartesian coordinates are functions <span class="math inline">\(x(u_1,u_2,u_3), y(u_1,u_2,u_3)\)</span> and <span class="math inline">\(z(u_1,u_2,u_3)\)</span>. The infinitesmal volume element in this space <span class="math inline">\({\rm d}V= {\rm d}x{\rm d}y{\rm d}z\)</span> can be expressed in the new general coordinates system as <span class="math display">\[
    {\rm d}V = \left|\frac{\partial(x,y,z)}{\partial(u_1,u_2,u_3)}\right|{\rm d}u_1{\rm d}u_2{\rm d}u_3,
\]</span> where the factor connecting them is the determinant of the Jacobian matrix <span class="math display">\[
\left|\frac{\partial(x,y,z)}{\partial(u_1,u_2,u_3)}\right| = {\rm det}
\left[
\begin{array}{ccc}
\frac{\partial x}{\partial u_1}  &amp; \frac{\partial x}{\partial u_2}  &amp;  \frac{\partial x}{\partial u_3} \\
\frac{\partial y}{\partial u_1}  &amp; \frac{\partial y}{\partial u_2}  &amp; \frac{\partial y}{\partial u_3}  \\
\frac{\partial z}{\partial u_1}  &amp;  \frac{\partial z}{\partial u_2} &amp;   \frac{\partial z}{\partial u_3}
\end{array}
\right].
\]</span> In Minkowski space the space-time volume element is often written as <span class="math inline">\({\rm d}^4 x = c{\rm d}t{\rm d}x{\rm d}y{\rm d}z\)</span> in some frame <span class="math inline">\(S\)</span>.</p>
<ol type="a">
<li><p>Considering a Lorentz boost to a new frame <span class="math inline">\(\bar{S}\)</span> travelling at a speed <span class="math inline">\(v\)</span> along the <span class="math inline">\(x\)</span>-axis use the above to show that the space-time volume element is identical between inertial frames <span class="math inline">\({\rm d}^4 \bar{x} = {\rm d}^4 x\)</span>.</p></li>
<li><p>Now consider a space-time hypercube of finite size <span class="math inline">\(L^4\)</span> in <span class="math inline">\(S\)</span>. Given <span class="math inline">\(\bar{y} = y\)</span> and <span class="math inline">\(\bar{z} = z\)</span> we know that the length of the cube along the <span class="math inline">\(y\)</span> and <span class="math inline">\(z\)</span> axes are identical in both frames. What does the cube look like in frame <span class="math inline">\(\bar{S}\)</span> and what is its space-time volume?</p></li>
</ol>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<i class="fa-regular fa-circle-check" aria-label="circle-check"></i> Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><strong>2. Space-time volume elements</strong></p>
<p>Solution …</p>
</div>
</div>
</div>
</section>
<section id="particle-current-density-and-the-continuity-equation" class="level2" data-number="8.4">
<h2 data-number="8.4" class="anchored" data-anchor-id="particle-current-density-and-the-continuity-equation"><span class="header-section-number">8.4</span> Particle current density and the continuity equation</h2>
<p>For a non-relativistic fluid with density <span class="math inline">\(\rho({\boldsymbol{r}},t)\)</span> and 3-velocity field <span class="math inline">\({\boldsymbol{v}}({\boldsymbol{r}},t)\)</span> then we can form a 3-current density field as <span class="math display">\[
    {\boldsymbol{j}}({\boldsymbol{r}},t) = \rho({\boldsymbol{r}},t)\,{\boldsymbol{v}}({\boldsymbol{r}},t).
\]</span> From this computing <span class="math inline">\({\boldsymbol{j}}({\boldsymbol{r}},t)\cdot d {\boldsymbol{A}}\)</span> gives the flux of particles crossing an area <span class="math inline">\(d {\boldsymbol{A}}\)</span> per unit time. The relativistic generalisation of this quantity is the 4-current density <span id="eq-4curr"><span class="math display">\[
    \vec{j}(\vec{X}) = \rho_0(\vec{X})\vec{U}({\vec X})c.
\tag{8.7}\]</span></span> We have to include a factor of <span class="math inline">\(c\)</span> to ensure the correct units since <span class="math inline">\(\vec{U}({\vec X})\)</span> is dimensionless. Since <span class="math inline">\(\vec{j}(\vec{X})\)</span> is constructed from Lorentz scalars multiplying a 4-vector field <span class="math inline">\(\vec{U}({\vec X})\)</span> then it is also a genuine 4-vector field.</p>
<p>Evaluating the 4-current density in the comoving frame <span class="math inline">\(\bar S\)</span> at <span class="math inline">\(\vec{X}\)</span> we get <span class="math display">\[
j^{\bar \mu}(\vec{X}) = \rho_0(\vec{X})c\left(\begin{array}{c} 1 \\
0\\
0\\
0 \end{array}\right),
\]</span> Since frame <span class="math inline">\(S\)</span> is travelling <span class="math inline">\({\boldsymbol{v}}(\vec{X})\)</span> relative to <span class="math inline">\(\bar S\)</span> then we can write the 4-current density in <span class="math inline">\(S\)</span> as <span class="math display">\[
j^{\bar \mu}(\vec{X}) = \rho_0(\vec{X})c\left(\begin{array}{c} \gamma \\
\gamma{\boldsymbol{v}}(\vec{X})/c\end{array}\right) = \left(\begin{array}{c} \gamma \rho_0(\vec{X})c \\
\gamma \rho_0(\vec{X}){\boldsymbol{v}}(\vec{X})\end{array}\right) = \left(\begin{array}{c} \rho(\vec{X})c \\
\rho(\vec{X}){\boldsymbol{v}}(\vec{X})\end{array}\right),
\]</span> after identifying the density <span class="math inline">\(\rho(\vec{X})\)</span> in frame <span class="math inline">\(S\)</span>. The general form for a 4-current density is then <span id="eq-4curr-gen"><span class="math display">\[
j^{\bar \mu}(\vec{X}) = \left(\begin{array}{c} \rho(\vec{X})c \\
{\boldsymbol{j}}(\vec{X})\end{array}\right),
\tag{8.8}\]</span></span> where <span class="math inline">\({\boldsymbol{j}}(\vec{X})\)</span> is the 3-current density.</p>
<p>For low energies (below pair creation) we expect the conservation of particle number for the fluid. This means that any frame <span class="math inline">\(S\)</span> the flux of particles into and out of the frame’s volume element <span class="math inline">\(\delta V\)</span> described by <span class="math inline">\({\boldsymbol{j}}({\boldsymbol{r}},t)\)</span> controls the rate of change of density <span class="math inline">\(\rho({\boldsymbol{r}},t)\)</span> in that volume.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figures/continuity.png" class="img-fluid figure-img" width="200"></p>
<figcaption>The density <span class="math inline">\(\rho(\vec{X})\)</span> inside the volume element <span class="math inline">\(\delta V\)</span> at <span class="math inline">\(\vec{X}\)</span> depicted here for 1+3D space-time can only change if the 3-current density <span class="math inline">\({\boldsymbol{j}}(\vec{X})\)</span> has a non-zero flux across the boundaries of the volume.</figcaption>
</figure>
</div>
<p>This conservation is described by the continuity equation <span id="eq-continuity_simple"><span class="math display">\[
    \frac{\partial}{\partial t}\rho({\boldsymbol{r}},t) + \nabla \cdot {\boldsymbol{j}}({\boldsymbol{r}},t) = 0,
\tag{8.9}\]</span></span> familiar from electromagnetism. This equation has a very elegant relativistic form. Using <a href="#eq-dmu" class="quarto-xref">Equation&nbsp;<span>8.1</span></a> and <a href="#eq-4curr-gen" class="quarto-xref">Equation&nbsp;<span>8.8</span></a> then <a href="#eq-continuity_simple" class="quarto-xref">Equation&nbsp;<span>8.9</span></a> reduces to <span class="math display">\[
    \partial_\mu j^\mu(\vec{X}) = 0.
\]</span> Whenever the 4-current field <span class="math inline">\(j^\mu(\vec{X})\)</span> describes the flow of a conserved quantity then it will have zero 4-divergence. In the next part of the course we will repeatedly encounter the continuity equation in this form describing numerous different physical quantities.</p>
</section>
<section id="energy-current" class="level2 page-columns page-full" data-number="8.5">
<h2 data-number="8.5" class="anchored" data-anchor-id="energy-current"><span class="header-section-number">8.5</span> Energy current</h2>
<p>A key quantity to consider carefully is the energy/mass density. Considering <a href="#eq-4curr" class="quarto-xref">Equation&nbsp;<span>8.7</span></a> one might envisage that energy 4-current density could be given by <span class="math display">\[
    j^{\bar \mu}_{\rm matter}(\vec{X}) \overset{?}{=} mc^2\rho_0(\vec{X})\vec{U}({\vec X}).
\]</span> Evaluating it in the comoving frame <span class="math inline">\(\bar S\)</span> gives <span class="math display">\[
j^{\bar \mu}_{\rm matter}(\vec{X}) \overset{?}{=} \left(\begin{array}{c} mc^2\rho_0(\vec{X}) \\
0\\
0\\
0 \end{array}\right),
\]</span> where we see that the time component is indeed the energy density. However, if we transform this 4-vector into another frame <span class="math inline">\(S\)</span> as <span class="math display">\[
    j^{\nu}_{\rm matter}(\vec{X}) = \Lambda^\nu_{\bar \mu} j^{\bar \mu}_{\rm matter}(\vec{X}),
\]</span> then we get <span class="math display">\[
    j^{\mu}_{\rm matter}(\vec{X}) \overset{?}{=} \left(\begin{array}{c} \gamma mc^2\rho_0(\vec{X}) \\
\gamma m c \rho_0(\vec{X}) {\boldsymbol{v}}(\vec{X})
\end{array}\right).
\]</span> which is incorrect because <span class="math inline">\(\gamma mc^2\rho_0(\vec{X})\)</span> is <strong>not</strong> the energy density in frame <span class="math inline">\(S\)</span>.</p>
<p>In frame <span class="math inline">\(S\)</span> each particle has energy <span class="math inline">\(\gamma mc^2\)</span> and there is a density <span class="math inline">\(\rho(\vec{X})\)</span>, so the energy of the volume element <span class="math inline">\(\delta V\)</span> is <span class="math inline">\(\mathcal{E}(\vec{X}) = \gamma mc^2\rho(\vec{X})\delta V\)</span>. Writing this in terms of the comoving density using <a href="#eq-density" class="quarto-xref">Equation&nbsp;<span>8.6</span></a> then gives <span class="math inline">\(\mathcal{E}(\vec{X}) = \gamma^2 mc^2\rho_0(\vec{X})\delta V\)</span>. Crucially, we see that it has a factor of <span class="math inline">\(\gamma^2\)</span>, one from the relativistic energy and one from the density enhancement by length contraction. No 4-vector quantity can ever acquire a factor of <span class="math inline">\(\gamma^2\)</span> via a Lorentz transformation.</p>
<p>What this observation tells us is that energy density must instead be a component of a rank-2 tensor field. This is the stress-energy tensor <span class="math inline">\(\pmb{\symbb{T}}(\vec{X})\)</span>. To finish up let’s consider the simplest possible example – the stress-energy tensor of “dust” given by <span class="math display">\[
    \pmb{\symbb{T}}_{\rm dust}(\vec{X}) = mc^2\rho_0(\vec{X})\vec{U}({\vec X})\otimes\vec{U}({\vec X}).  
\]</span> In a general frame <span class="math inline">\(S\)</span> it has components <span class="math display">\[
    T^{\mu\nu}_{\rm dust}(\vec{X}) = mc^2\rho_0(\vec{X})U^\mu({\vec X})U^\nu({\vec X}),  
\]</span><br>
which in the comoving frame <span class="math inline">\(\bar S\)</span> gives a very simple form <span id="eq-comoving_dust"><span class="math display">\[
T^{{\bar \mu}{\bar \nu}}_{\rm dust}(\vec{X}) = \left(\begin{array}{cccc} mc^2\rho_0(\vec{X}) &amp; 0 &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 0 \\
0&amp; 0 &amp; 0 &amp; 0 \end{array}\right),
\tag{8.10}\]</span></span> with the energy density as the time-time component <span class="math inline">\(T^{00}\)</span>. Transforming this tensor into frame <span class="math inline">\(S\)</span> travelling <span class="math inline">\({\boldsymbol{v}} = -v{\boldsymbol{e}}_x\)</span> relative to <span class="math inline">\(\bar S\)</span> gives <span id="eq-vx_dust"><span class="math display">\[
T^{\mu\nu}_{\rm dust}(\vec{X}) = \left(\begin{array}{cccc} \gamma^2 mc^2\rho_0(\vec{X}) &amp; \gamma^2 mvc\rho_0(\vec{X}) &amp; 0 &amp; 0 \\
\gamma^2 mvc\rho_0(\vec{X}) &amp; \gamma^2 mv^2\rho_0(\vec{X}) &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 0 \end{array}\right),
\tag{8.11}\]</span></span> and we now see that the <span class="math inline">\(T^{00}\)</span> component transforms correctly such that it continues to be the energy density in any inertial frame. We will unpack more about the physics of <span class="math inline">\(T^{\mu\nu}\)</span> later.</p>
<div class="page-columns page-full"><p></p><div class="no-row-height column-margin column-container"><span class="margin-aside"><strong>End of Lecture 8</strong>.</span></div></div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<i class="fa-regular fa-circle-question" aria-label="circle-question"></i> Work-along exercises
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><strong>3. Transforming the stress-energy tensor</strong></p>
<p>The stress-energy tensor in the comoving frame <span class="math inline">\(\bar S\)</span> is transformed into frame <span class="math inline">\(S\)</span> as <span id="eq-tensor_trans"><span class="math display">\[
    T^{\mu\nu}_{\rm dust}(\vec{X}) = \Lambda^\mu_{\bar \sigma} \Lambda^\nu_{\bar \kappa} T^{{\bar \sigma}{\bar \kappa}}_{\rm dust}(\vec{X}).
\tag{8.12}\]</span></span> As a matrix the Lorentz transformation from <span class="math inline">\(\bar S\)</span> to <span class="math inline">\(S\)</span> is given as <span class="math display">\[
\Lambda^\mu_{\bar \sigma} = {\underline{\underline \Lambda}}_{\mu{\bar \sigma}} = \left(\begin{array}{cccc} \gamma &amp; \gamma\beta &amp; 0 \\
\gamma\beta &amp; \gamma &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; 1 &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 1 \end{array}\right),
\]</span> assuming <span class="math inline">\(S\)</span> is moving with a velocity <span class="math inline">\({\boldsymbol{v}} = -v{\boldsymbol{e}}_x\)</span> relative to <span class="math inline">\(\bar{S}\)</span>. Express <a href="#eq-tensor_trans" class="quarto-xref">Equation&nbsp;<span>8.12</span></a> as a matrix multiplication applied to <a href="#eq-comoving_dust" class="quarto-xref">Equation&nbsp;<span>8.10</span></a> and derive the result quoted in <a href="#eq-vx_dust" class="quarto-xref">Equation&nbsp;<span>8.11</span></a>.</p>
<p><strong>4. Energy and momentum fluxes</strong></p>
<p>Take 1+3D space-time and consider a uniform fluid of particles with number density <span class="math inline">\(n\)</span> all moving in unison with a 3-momentum <span class="math inline">\(\boldsymbol{p} = m\boldsymbol{v}\)</span> and energy <span class="math inline">\(E\)</span> in our frame <span class="math inline">\(S\)</span>. The fluid thus has an energy density <span class="math inline">\(nE\)</span> and a momentum densities <span class="math inline">\(np_x, np_y, np_z\)</span>, in <span class="math inline">\(S\)</span>. Since the particles are moving then both all 4 of these quantities are being transported across space, as described by a flux (amount per unit area per unit time). Now imagine we are monitoring the particles crossing the <span class="math inline">\(x\)</span>-<span class="math inline">\(y\)</span>, <span class="math inline">\(x\)</span>-<span class="math inline">\(z\)</span> and <span class="math inline">\(y\)</span>-<span class="math inline">\(z\)</span> planes in time.</p>
<ol type="a">
<li><p>What is the energy flux across these planes?</p></li>
<li><p>What is the flux of <span class="math inline">\(y\)</span>-momentum crossing the <span class="math inline">\(y\)</span>-<span class="math inline">\(z\)</span> plane? Argue that for momentum there are 9 quantities describing its flux in 3D space.</p></li>
<li><p>Explain why it is plausible that all these densities and fluxes could be components of a rank-2 tensor <span class="math inline">\(T^{\mu\nu}\)</span>.</p></li>
</ol>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<i class="fa-regular fa-circle-check" aria-label="circle-check"></i> Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><strong>3. Transforming the stress-energy tensor</strong></p>
<p>Solution …</p>
<p><strong>4. Energy and momentum fluxes</strong></p>
<p>Solution …</p>
</div>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./kinematics.html" class="pagination-link" aria-label="Relativistic kinematics">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Relativistic kinematics</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./single_particle.html" class="pagination-link" aria-label="Single-particle Lagrangian">
        <span class="nav-page-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Single-particle Lagrangian</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>